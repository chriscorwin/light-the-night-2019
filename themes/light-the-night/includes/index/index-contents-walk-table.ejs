

<div class="contest-data-table_wrapper">
<table class="contest-data-table ltn-table ltn-table_cell-buffer ltn-table_striped ltn-no-row-hover">
	<thead>
		<tr class="ltn-line-height_reset">
			<th class="" scope="col">
				<div class="ltn-truncate" title="State">State</div>
			</th>
			<th class="" scope="col">
				<div class="ltn-truncate" title="City">City</div>
			</th>
			<th class="" scope="col">
				<div class="ltn-truncate" title="Participants"><img class="ltn-m-right_xx-small" width="22" src="/images/salesforce-cloud.svg"/>Participants</div>
			</th>
			<th class="" scope="col">
				<div class="ltn-truncate" title="Walk Date">Walk Date</div>
			</th>
			<th class="" scope="col">
				<div class="ltn-truncate" title="Action">Action</div>
			</th>
		</tr>
		</thead>
	<tbody>
<%
  const sortedByDate = localization.contestData.slice(1).sort((l,r) => l[6] > r[6] ? 1 : -1);
	sortedByDate.forEach(function(rowData, RowIndex) {
		  /* console.log(`rowData: `, rowData); */

			let tableRowHtmlOut = '';
			tableRowHtmlOut += `<tr class="ltn-hint-parent">`;
			localization.contestTableRowCellsToShow.forEach(function(columnIndex, index) {
				if (index === 0) { 
					const abbr = rowData[columnIndex];
					const stateName = localization.abbToName(abbr);
					tableRowHtmlOut += `<th data-label="${stateName}" scope="row">`;
					tableRowHtmlOut += `<div class="ltn-truncate" title="${stateName}">${stateName}</div>`;
					tableRowHtmlOut += `</th>`;
				} else if (index === 2) { 
					const abbr = rowData[columnIndex];
					const stateName = localization.abbToName(abbr);
					tableRowHtmlOut += `<td class="ltn-table_cell-align-right" data-label="${rowData[columnIndex]}">`;
					tableRowHtmlOut += `<div class="ltn-truncate " title="${rowData[columnIndex]}">${rowData[columnIndex]}</div>`;
					tableRowHtmlOut += `</td>`;
				} else {
					tableRowHtmlOut += `<td data-label="${rowData[columnIndex]}">`;
					tableRowHtmlOut += `<div class="ltn-truncate" title="${rowData[columnIndex]}">${rowData[columnIndex]}</div>`;
					tableRowHtmlOut += `</td>`;
				}
			});
			tableRowHtmlOut += `<td data-label="Action">`;
				tableRowHtmlOut += `<div class="ltn-truncate" title="Sign up to walk"><button class="ltn-button ltn-button--primary">Sign up to walk</button></div>`;
			tableRowHtmlOut += `</td>`;
			tableRowHtmlOut += `</tr>`;
			echo(`${tableRowHtmlOut}`);
	});
%>
	</tbody>
</table>
</div>
